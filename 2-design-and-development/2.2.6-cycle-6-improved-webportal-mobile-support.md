# 2.2.7 Cycle 7 - Improved Webportal (Mobile Support)

* Improved webportal home page, added new buttons.
* Navigation bar didn't work for mobile.
* Fixed navigation bar for mobile

## Design

### Objectives

Now that basic inter-nodal communication, cryptography and some other essentials are setup for the node software I think it's a good time to work on the webportal a bit more and I also to happen to have noticed that at this point the webportal does not render very well on mobile, so that's a good place to start.

* [ ] Fix the rendering issues on mobile
* [ ] Implement a separate navigation bar on mobile that is easier to use
* [ ] Improve the home page.
* [ ] Add some navigation buttons on the homepage (Inspired by [ethereum.org](https://ethereum.org))

### Usability Features

* Feature 1
* Feature 2

### Key Variables

| Variable Name | Use                                                                                                                         |
| ------------- | --------------------------------------------------------------------------------------------------------------------------- |
| mobile        | A boolean value which tells the navigation component whether to render the mobile or desktop view.                          |
| window        | An object that stores the width and height of the browser window to be used to calculate the value for the mobile variable. |
| breakpoint    | An integer value which when the width of window is less than, the mobile navigation bar is enabled.                         |

### Pseudocode

The code for the rendering issues are mainly just css changes to ensure that as many browser sizes as possible are supported, therefore there's not really any pseudocode to be written.

However for the new navigation bar and the new buttons on the home screen there is some actual code to write.

Starting with the new navigation bar, this will introduce two 'react hooks' that allows the 'mobile' variable referenced in key variables to be generated every time the window changes size. The first one will be called 'useWindowSize()' and will be kept in a separate file to the navigation bar file incase it is useful in other parts of the website later on, and the second hook being a basic one that re-renders any time the window variable referencing the 'useWindowSize()' hook changes.

**The 'useWindowSize()' hook**

```tsx
// useWindowSize Hook
FUNCTION useWindowSize():
  // Initialize state with undefined width/height so server and client renders match
  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/
  windowSize = {
    width: number
    height: number;
  }

  // Handler to call on window resize
  function handleResize() {
    // Set window width/height to state
    setWindowSize({
      width: window.innerWidth,
      height: window.innerHeight,
    });
  }

  useEffect(() => {
    // only execute all the code below in client side
    if (typeof window !== "undefined") {
      // Add event listener
      window.addEventListener("resize", handleResize);

      // Call handler right away so state gets updated with initial window size
      handleResize();

      // Remove event listener on cleanup
      return () => window.removeEventListener("resize", handleResize);
    }
  }, []); // Empty array ensures that effect is only run on mount
  return windowSize;
END FUNCTION
```

**The mobile navigation bar hook**

```
```

## Development

Most of the development for this cycle was just setup, to get everything I need for this project up and running and building out the structure of the codebase in order to make the actual programming as smooth as possible.

### Outcome

Objective 1

```
code
```

Objective 2

```
code
```

### Challenges

Challenges faced in either/both objectives

## Testing

### Tests

| Test | Instructions | What I expect | What actually happens | Pass/Fail |
| ---- | ------------ | ------------- | --------------------- | --------- |
| 1    |              |               |                       |           |
| 2    |              |               |                       |           |
| 3    |              |               |                       |           |

### Evidence

(Images of tests running/results)
