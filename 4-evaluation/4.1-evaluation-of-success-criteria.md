# 4.1 Evaluation of Success Criteria

## Node Software & Protocol

### Individual blocks

| Criterion | Description                                                              | When was it achieved |
| --------- | ------------------------------------------------------------------------ | -------------------- |
| 1         | Blocks must refer to the previous block in the chain.                    | Not met.             |
| 2         | Blocks must be detected as invalid and disregarded by the node software. | Not met.             |
| 3         | Blocks must be detected as valid and approved by node software.          | Not met.             |

Purely in terms of the actual software aspect none of these three criterion were met since I did not reach the stage in development of the project which would allow for the addition and translation of protocol rules into the actual software networking to allow the blockchain to run and send theorised data through it, however in the protocol form this criterions where all laid out as discussed in each individual one.

#### Criterion 1

This criterion was not implemented in software due to time constraints as discussed in summary paragraph above. However in terms of the protocol, the framework for how this would work and hence would be implemented into the node software can be found in the [initial project analysis here](../1-analysis/1.4a-features-of-proposed-solution/1.4.1-the-protocol/#chaining-blocks).

#### Criterion 2 and 3

Both of these Cycles relate to the same thing: validating blocks and acting accordingly; with criterion 2 being in relation to disregarding invalid blocks and cycle 3 approving valid blocks.

Sadly neither of these criterion were implemented in the node software due to time constraints as discussed in summary paragraph above.&#x20;

Although this was not implemented on the scale of blocks, this criterion was partially met in the fashion of the node software detecting and disregarding transactions and messages that were invalid. This was first implemented in [cycle 10 ](../2-design-and-development/needs-code-2.2.9-cycle-9-basic-inter-nodal-communication.md#only-signing-date-time-objects)where it was made that the software should only sign specific types of data that it receieved and was then expanded in more detail throughout cycles [12](4.1-evaluation-of-success-criteria.md#criterion-12) and [14](../2-design-and-development/needs-code-2.2.11-cycle-11-expanding-node-networks-through-neighbours.md).

```v
// V code - within the "pong" route in /src/modules/server/main.v 

// with this version of the node software all messages should be time objects
time := time.parse(req_parsed.message) or {
    eprintln("Incorrect time format supplied to /pong/:req by node claiming to be $req_parsed.ping_key")
    return app.server_error(403)
}

// time was okay, so store a slight positive grudge
println("Time parsed correctly as: $time")
```

Therefore it can be seen that there is evidence that this criterion would've been met if the project's development continued over a longer time span.

### Network Communication

| Criterion | Description                                                                                                                                                                             | When was it achieved                                                                                                                                                           |
| --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 4         | Nodes should have an open api server running using http that contains enough pathways to complete all the needed types of communication.                                                | First developed in [Cycle 1](../2-design-and-development/2.2.1-cycle-1-the-framework.md), met in [Cycle 12](../2-design-and-development/2.2.x-cycle-template.md).              |
| 5         | Node should have web-socket connection abilities for server or client connections.                                                                                                      | Partially met in [Cycle 14](../2-design-and-development/needs-code-2.2.11-cycle-11-expanding-node-networks-through-neighbours.md).                                             |
| 6         | Nodes should be able to add and remove each other to their communication lists which should be stored locally.                                                                          | Met in [Cycle 11](../2-design-and-development/needs-code-2.2.10-cycle-10-remembering-nodes.md), improved in [Cycle 13](../2-design-and-development/2.2.x-cycle-template-1.md). |
| 7         | Nodes should be able to store a local "grudge" object that just remembers who the node has a good or bad experience with to change their trust level when they create their next block. | Not met.                                                                                                                                                                       |
| 8         | Nodes should send through a digital signature with each communication.                                                                                                                  | Met in [Cycle 12](../2-design-and-development/2.2.x-cycle-template.md).                                                                                                        |
| 9         | Nodes should be able to remember each other through a combination of their wallet address and their ips/domains.                                                                        | Met in [Cycle 11](../2-design-and-development/needs-code-2.2.10-cycle-10-remembering-nodes.md), improved in [Cycle 13](../2-design-and-development/2.2.x-cycle-template-1.md). |

#### Criterion 4

{% hint style="success" %}
Nodes should have an open api server running using http that contains enough pathways to complete all the needed types of communication.
{% endhint %}

<figure><img src="../.gitbook/assets/image (2) (7).png" alt=""><figcaption></figcaption></figure>

The above image shows the home route of the http api server running on the node software, since there are quite a few api routes the rest are shown below:

<figure><img src="../.gitbook/assets/image (11).png" alt=""><figcaption></figcaption></figure>

These routes not only allow for the http server to be used for communication between nodes but also allow for the user to interact and send messages over the network. This can be seen through the categorisation supplied with the 'User Pages' being used to show the user some data or allow them to interact with their node through a nicer ui than having to use the terminal window; the 'Internal Api' is then used to ensure the person accessing the node does actually have control of the node and let them send messages using the web interface; and finally the 'External Api' are the routes that will be called by other nodes looking to interact with or send a message to the receipient node.

#### Criterion 5

{% hint style="warning" %}
Node should have web-socket connection abilities for server or client connections.
{% endhint %}

This criterion was partially met in [cycle 14](../2-design-and-development/needs-code-2.2.11-cycle-11-expanding-node-networks-through-neighbours.md) where websockets were implemented using VLang's net.websockets module and the functionality tested well initially but had some serious issues upon continued use.

<figure><img src="../.gitbook/assets/image (1) (1) (5).png" alt=""><figcaption><p>Messages being received and then crashing from Cycle 14</p></figcaption></figure>

The above screenshot shows a message being successfully received and then the software crashing after attempting to forward it onto the other nodes it was aware of. This occurred approximately 20 messages into a test where a message was sent every 0.5 seconds as such showing that the websockets partially work but cannot handle continuted use very well.

Sadly this is primarily an issue with VLang and although improved code on my half would most likely expand the length of time that the software runs for before crashing there is a high probability that these sorts of issues would continue to happen. This is because the panic shown above and similar errors that were encountered occoured upon the websocket module calling other vlang standard library modules through my middleware meaning that the issues were within the modules supplied to the vlang standard library which I cannot easily fix.

#### Criterion 6

{% hint style="success" %}
Nodes should be able to add and remove each other to their communication lists which should be stored locally.
{% endhint %}

In order to prove that this functionality works quickly and easily after changes I built the following automatic testing functions:

```v
// This tests the creation of a node reference
fn test_create_ref() {
	database.launch()
	db := database.connect(false, pg.Config{})
	create_test_ref(db)
	database.stop()
	// this test will crash if it fails
	assert true
}

// This tests to check if the node will correctly state if it is aware of a node
fn test_aware_ref() {
	database.launch()
	db := database.connect(false, pg.Config{})
	create_test_ref(db)
	aware := db.aware_of('test')
	database.stop()
	assert aware
}

// This tests to see if the node will collect all of it's references properly
fn test_refs() {
	database.launch()
	db := database.connect(false, pg.Config{})
	create_test_ref(db)	// create a ref if the test one doesn't already exist
	refs := db.get_refs()
	database.stop()
	assert refs.len > 0
}

// This is used to generate a testing reference object when needed
fn create_test_ref(db database.DatabaseConnection) {
	mut aware := db.aware_of('test')

	if !aware {
		// just in case the test ref doesn't exist
		db.create_ref('test', 'test'.bytes())
		aware = db.aware_of('test')
	}
}
```

These functions are part of the larger 'database\_test.v' file which I designed in [cycle 13](../2-design-and-development/2.2.x-cycle-template-1.md) but are the only tests necessary to prove this criterion has been met. Upon running these tests the following is output to the terminal by VLang's built in testing functionality.

<figure><img src="../.gitbook/assets/image (2) (4).png" alt=""><figcaption><p>The first two tests passing</p></figcaption></figure>

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption><p>The final test passing.</p></figcaption></figure>

As shown above, not only did the three tests discussed pass, but so did the other 5 in this testing module, hence proving that this criterion is met.

#### Criterion 7

{% hint style="danger" %}
Nodes should be able to store a local "grudge" object that just remembers who the node has a good or bad experience with to change their trust level when they create their next block.
{% endhint %}

* was not implemented since blocks were not implemented.
* would be implemented after block creation/criterion 1-3

#### Criterion 8

{% hint style="success" %}
Nodes should send through a digital signature with each communication.
{% endhint %}

* completed as of cycle 12
* would need to be continued throughout development

#### Criterion 9

{% hint style="success" %}
Nodes should be able to remember each other through a combination of their wallet address and their ips/domains.
{% endhint %}

* Introduced in cycle 10
* improved with cycle 13

### General features

| Criterion | Description                                                                                                                                      | When was it achieved                                                                      |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------- |
| 10        | A configuration handler.                                                                                                                         | Met in [Cycle 3](../2-design-and-development/2.2.3-cycle-3-configuration-handler.md).     |
| 11        | The configuration handler should be usable and accessible to technical users with non-technical users being able to use it with additional help. | Met in [Usability testing](../3-testing/3.2-usability-testing.md#criterion-11).           |
| 12        | Nodes should have some kind of web based access dashboard.                                                                                       | Met in [Cycle 12](../2-design-and-development/2.2.x-cycle-template.md).                   |
| 13        | The node dashboard should be easily accessible and usable by all forms of users.                                                                 | Partially met in [Usability testing](../3-testing/3.2-usability-testing.md#criterion-13). |

#### Criterion 10

{% hint style="success" %}
A configuration handler.
{% endhint %}

* met in cycle 3
* continued improvisation as needed throughout various cycles

#### Criterion 11

{% hint style="success" %}
The configuration handler should be usable and accessible to technical users with non-technical users being able to use it with additional help.
{% endhint %}

* met in usability testing
* could still be improved with some basic documentation

#### Criterion 12

{% hint style="success" %}
Nodes should have some kind of web based access dashboard.
{% endhint %}

* met in cycle 12
* could be improved by making it look nicer, simpler to use and add more functionality.

#### Criterion 13

{% hint style="warning" %}
The node dashboard should be easily accessible and usable by all forms of users.
{% endhint %}

* partially met in usability testing
* users seemed to realise what it was after a very very brief explanation, hence suggesting some form of basic documentation or tutorial explaining the essentials to them could bring this up to being met.

### Non-functional

| Criterion | Description                                                                                                                             | When was it achieved                                                                                 |
| --------- | --------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| 14        | The node software should not crash.                                                                                                     | Partially met, as of [Function and Robustness testing](../3-testing/3.1-robustness.md#criterion-14). |
| 15        | The software should be capable of receiving multiple messages per second.                                                               | Not met, as of [Function and Robustness testing](../3-testing/3.1-robustness.md#criterion-15).       |
| 16        | The software should attempt to retry any failed processes (such as loading a file) and should only exit after multiple failed attempts. | Met, as of [Function and Robustness testing](../3-testing/3.1-robustness.md#criterion-16).           |

#### Criterion 14

{% hint style="warning" %}
The node software should not crash.
{% endhint %}

* partially met as of function and robustness testing (3.1)
* won't crash under casual use
* will crash under sustained load or after heavy load

#### Criterion 15

{% hint style="danger" %}
The software should be capable of receiving multiple messages per second.
{% endhint %}

* not met as of function and robustness testing (3.1)
* crashes after about 10 seconds of sustained messages every 0.5 seconds

#### Criterion 16

{% hint style="success" %}
The software should attempt to retry any failed processes (such as loading a file) and should only exit after multiple failed attempts.
{% endhint %}

* met as of function and robustness testing (3.1)
* does this W

## Webportal

### Page types

| Criterion | Description                                                                                       | When was it achieved                                                                                                                                                                    |
| --------- | ------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 17        | A "home" page that summarises what the project is about.                                          | Created in [Cycle 1](../2-design-and-development/2.2.1-cycle-1-the-framework.md), improved in [Cycle 7](../2-design-and-development/2.2.6-cycle-6-improved-webportal-mobile-support.md) |
| 18        | An "info" page that explains the project in more detail.                                          | Created in [Cycle 1](../2-design-and-development/2.2.1-cycle-1-the-framework.md), improved in [Cycle 7](../2-design-and-development/2.2.6-cycle-6-improved-webportal-mobile-support.md) |
| 19        | A "downloads" page that lets the user download the node software.                                 | Created in [Cycle 1](../2-design-and-development/2.2.1-cycle-1-the-framework.md), improved in [Cycle 7](../2-design-and-development/2.2.6-cycle-6-improved-webportal-mobile-support.md) |
| 20        | A "wallet" page that allows the user to see any data or items stored within their digital wallet. | Created in [Cycle 1](../2-design-and-development/2.2.1-cycle-1-the-framework.md), has not been met it's functionality.                                                                  |

#### Criterion 17

{% hint style="success" %}
A "home" page that summarises what the project is about.&#x20;
{% endhint %}

<figure><img src="../.gitbook/assets/image (8).png" alt=""><figcaption></figcaption></figure>

* met in cycle 1, improved in cycle 7

#### Criterion 18

{% hint style="success" %}
An "info" page that explains the project in more detail.
{% endhint %}

<figure><img src="../.gitbook/assets/image (1).png" alt=""><figcaption></figcaption></figure>

* met in cycle 1, improved in cycle 7

#### Criterion 19

{% hint style="success" %}
A "downloads" page that lets the user download the node software.
{% endhint %}

<figure><img src="../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

* met in cycle 1, improved in cycle 7

#### Criterion 20

{% hint style="warning" %}
A "wallet" page that allows the user to see any data or items stored within their digital wallet.
{% endhint %}

<figure><img src="../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

* introduced in cycle 1, was not met
* Would require transactions and blocks to work properly to be build

### Non-functional

| Criterion | Description                                                                                                          | When was it achieved                                                                                            |
| --------- | -------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| 21        | Non-technical users must be able to identify what the point of the project is just from the homepage of the website. | Met as of [usability testing](../3-testing/3.2-usability-testing.md#do-you-understand-the-idea-of-the-project). |
| 22        | Users should be able to get to the majority of what they would want to get to within 3 clicks.                       | Met in [Cycle 7](../2-design-and-development/2.2.6-cycle-6-improved-webportal-mobile-support.md).               |
| 23        | The web-portal should be available and working on a variety of device sizes including mobile and desktop.            | Partially met in [Cycle 7](../2-design-and-development/2.2.6-cycle-6-improved-webportal-mobile-support.md).     |
| 24        | The web portal should run without crashing under any circumstance.                                                   | Met as of [testing for function and robustness](../3-testing/3.1-robustness.md).                                |

#### Criterion 21

{% hint style="success" %}
Non-technical users must be able to identify what the point of the project is just from the homepage of the website.
{% endhint %}

* met in usability testing

#### Criterion 22

{% hint style="success" %}
Users should be able to get to the majority of what they would want to get to within 3 clicks.
{% endhint %}

* met in cycle 7

#### Criterion 23

{% hint style="warning" %}
The web-portal should be available and working on a variety of device sizes including mobile and desktop.
{% endhint %}

* partially met in cycle 7
* some pages (download page) breaks slightly on tablets

#### Criterion 24

{% hint style="success" %}
The web portal should run without crashing under any circumstance.
{% endhint %}

* met in testing for function and robustness (3.1)
* proove with vercel stats
